\documentclass[a4paper,10pt]{article}
\input{../Templates/Settings}
\usepackage{graphicx}
\usepackage{adjustbox}

\begin{document}
\def\ftitle{Arkitekturdokument}
\def\fversion{1.0}
\input{../Templates/titlepage}

\section*{\begin{center}Dokumentationshistorik\end{center}}
\begin{center}
 \begin{tabular}{|c c c c |}
 \hline
 Datum & händelse & iteration & version\\
 \hline
 2018-02-10 & Dokument skapas & 1 &  0.1\\
 \hline
  2018-02-19 & Konvertering till \textbf{\LaTeX} & 1 &  0.2\\
 \hline
   2018-02-19 & Version 1.0 färdigställd & 1 &  1.0\\
 \hline
\end{tabular}
\clearpage
\end{center}
\tableofcontents
\clearpage
\section{Inledning}
\label{sec:Inledning}

\subsection{Syfte}
Arkitekturdokumentet ger en utförlig översikt  av schemaläggningssystemets arkitektur. I dokumentet presenteras flera olika vyer av arkitekturen samt en översiktlig beskrivning av systemet och dess funktionalitet.
\subsection{Översiktlig systembeskrivning}
Det schemaläggningssystem som ska utvecklas kommer användas på operationsavdelningen i ett sjukhus av sjukhuspersonal för planering av operationer. Systemet ska klara av att utifrån en lista med beslutade operationer ge användaren förslag på operationstider inom operationens tidsgräns då rätt lokal och resurser finns tillgängliga. För tider då lokal finns att tillgå men resurser saknas ska systemet visa vilka resurser som saknas. Användaren ska utifrån detta kunna välja en passande tid och boka in operationen. Besluten ska innehålla relevant data om patient och operationstyp, och det ska för varje beslut framgå om beslutet behandlats eller inte. Ifall patienten behöver flera ingrepp ska användaren kunna se detta och kunna slå samman ingreppen till en operation vid behov.

Operationer ska kunna avbokas och frigöras från schemat. Det ska finnas en schemaöversikt med en filterfunktion som visar när vilka resurser är lediga eller upptagna. Det ska finnas en tidslinje över operationen som visar när operationsprocessens olika stadier börjar. Det ska gå att logga vilken användare som bokat vad. All information ska lagras i en central databas. Från databasen ska informationen hämtas ned till användardatorer via en server. Systemet ska visas på en skärm och användaren interagerar med det med hjälp av tangentbord och mus.

\section{Användarfallsvy}

Denna vy visar de viktigaste fallen då schemaläggningssystemet ska användas. De fallen är som följer:
\begin{itemize}
	\item Inloggning
	\item Visa tidslinje för operation
	\item Visa beslutsöversikt
	\item Visa beslutsdata
	\item Boka operation
	\item Avboka operation
	\item Visa schemaöversikt
	\item Slå ihop operationer
\end{itemize}
\subsection{Användarfallsdiagram}
\includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{Usecasediagram.png}
\clearpage
\section{Systemskiss}
\label{sec:Systemskiss}
Här visas och beskrivs en översiktlig skiss av schemaläggningssystemet där det framgår vilken funktionalitet som ska köras var i systemet. \\
\includegraphics[width=.9\linewidth,height=.7\textheight]{Systemskiss.png}
\\
Systemet som beskrivs översiktligt i Figur 2 är uppdelat i två delar, en webbklient och en webbserver.
\section{Webbklient}
Webbklienten består av tre lager, ett gränssnittslager, ett logiklager och ett kommunikationslager. I klientdelen i Figur 2 beskrivs hur lagren hänger ihop och beror på varandra.

\subsection{Angular}
Webbklienten kommer att använda sig av webbapplikationsramverket Angular. En Angular-applikation är uppbyggd av en eller flera moduler som i sin tur består av komponenter och tjänster. 
\subsubsection{Komponenter}
Angularkomponenter används för att dela upp gränssnittet i olika återanvändbara delar. Varje komponent består av dels en HTML-mall som beskriver dess utseende och dels en TypeScript-klass som hanterar allt det dynamiska med komponenten.

Komponentens mall definieras med hjälp av en något utökad HTML-syntax. All vanlig HTML förutom dess script-taggar får användas. Det tillkommer även en Angular-specifik syntax som tillåter mallen att anpassa sitt uteseende beroende på klassens tillstånd.

Klassen i komponenten innehåller allt för att visa upp mallen och de grundläggande funktioner som krävs. Alla icke-trivial logik som klassen behöver får den istället genom tjänster.
\subsubsection{Tjänster}
Tjänster i Angular 

\subsection{Gränssnittslager}
   


%%Systemet som beskrivs översiktligt i Diagram 2 innehåller en webbserver som innehåller ett grafisk användargränssnitt. Logik på webbservern hanterar användarkommandon och uppdaterar grafiska komponenter. Slutligen innehåller webbservern kommunikationsfunktionalitet som gör det möjligt att skicka data till och ta emot data från databasservern. Användaren kör systemet via en webbläsare, Internet Explorer 11.

%%Systemet innehåller även en databasserver som kan ta emot data från och skicka data till webbservern och behandla den data som ligger i själva databasen. Användaren kör systemet från en webbläsare.


\end{document}
