\chapter{Angular som webbutvecklingsplattform - Martin Persson}

\vspace{1.5em}
\section{Inledning}

Det finns i dagsläget ett flertal olika verktyg och ramverk med syfte att underlätta arbete med webbutveckling. För en ovan utvecklare kan det vara svårt att orientera sig bland alla tillgängliga alternativ. Angular är ett exempel på ett sådant. Denna rapport kommer att undersöka det val som måste göras genom att granska ramverket Angular, som i Aeon-projektet använts till att utveckla front-end-delen av den schemaläggningsapplikation som tagits fram.

Under Aeon-projektets gång kommer funktioner och beteenden hos Angular att utredas och utvärderas för att ta reda på om just Angular är ett bra val för projekt med liknande parametrar som Aeon.

\section{Syfte}

Syftet med studien är att undersöka vilka faktorer som behöver betraktas vid val av utvecklingsplattform till ett webbutvecklingsprojekt med samma dimensioner som Aeon och med projektdeltagare som har liknande förkunskaper. Studien ska även redogöra för vad valet av just utvecklingsplattformen Angular har kunnat tillföra det utförda projektet.

\subsection{Frågeställing}
\begin{itemize}
	\item Vilka faktorer bör man ta hänsyn till vid val av utvecklingsverktyg till ett projekt i webbutveckling med samma profil som Aeon?
	\item Vad har valet av utvecklingsplattformen Angular tillfört detta projekt? 
\end{itemize}

\subsection{Avgränsningar}

Studien kommer begränsa sig till att undersöka just utvecklingsplattformen Angular, och andra alternativ kommer enbart behandlas översiktligt.

\section{Bakgrund}


Studien är utförd i samband med kandidatprojektet i kursen TDDD96. I den kursen fick projektgruppen i uppdrag av en beställare, Region Östergötland, att ta fram ett schemaläggningsstöd för kirurgi för att underlätta planering och bokning av operationer. Det verktyget skulle enligt beställarens uttryckliga krav vara en webbapplikation. Det ställdes inga sådana krav på valet av utvecklingsplattform, men beställarens IT-experter hade i tidigare projekt använd sig av Angular. 

Ingen av projektmedlemmarna hade några större erfarenheter av arbete med webbutveckling sedan tidigare, och ett flertal hade inga erfarenheter inom området alls. Då ingen i projektgruppen hade några särskilda önskemål på denna punkt och då gruppen såg möjligheter att dra nytta av beställarens tidigare erfarenheter så fattades beslutet att använda Angular i Aeon också. Gruppen utförde alltså ingen egentlig analys av för- och nackdelar eller någon undersökning av andra möjliga alternativ.  

\section{Teori}

Under denna rubrik får läsaren ta del av den teori som ligger bakom studien.

\subsection{Angular} \label{martin_angular}

Angular är en utvecklingsplattform och ett ramverk för utveckling av webbapplikationer. Arkitekturen i Angular är komponentbaserad, där varje komponent innehåller en HTML-mall som beskriver vilket innehåll som ska visas upp för användaren och en TypeScript-klass som hanterar logik och funktionalitet kopplad till HTML-mallen. HTML-kod som skrivs i Angular är utökad med Angular-specifik funktionalitet som gör den kraftfullare. Bland annat tillkommer möjliheten att använda for-loopar och if-satser i HTML-koden.

Komponenterna i Angular är modulärt uppbyggda. Enskilda komponenter kan ändras på utan att störa övriga komponenter. Det är även möjligt att återanvända komponenter i flera olika sammanhang, eller att behandla dem som klasser och instansiera dem med olika värden på sina parametrar. En applikation utvecklad i Angular bör följa den modulära komponentstruktur som förordas av ramverket. Då kommer den vara uppbyggd av hierarkiskt ordnade komponenter i en träd-struktur, där större komponenter kan fyllas ut med flera små.   

Angular innehåller även tjänster, som också använder TypeScript. Tjänsterna tillhandahåller logik och funktionalitet som inte är direkt kopplad till någon specifik komponent. Angular rekommenderar starkt att utvecklare följer denna föreslagna uppdelning och strukturering av kod. I det projekt som studien behandlar har Angular 5 använts. Angular bör inte förväxlas med dess föregångare med liknande namn, AngularJS, som använder sig av vanlig JavaScript istället för TypeScript \cite{angularguide}.


\subsection{TypeScript}

TypeScript är det programspråk Angular är skrivet i och det språk detta kandidatprojekt använt för att skriva klasser och tjänster i Angular. Språket är en påbyggnad av JavaScript som bland annat lägger till stöd för statisk typning och klasser \cite{henrik_ts1}.


\section{Metod}

Under denna rubrik kommer de arbetssätt som användes under studiens gång att redovisas. De metoder som använts är en litteraturstudie med flera källor och en empirisk undersökning i form av intervjuer rörande projektgruppens egna erfarenheter med Angular.

\subsection{Litteraturstudie}

För att mer ingående kunna behandla frågan om vilka faktorer man behöver ta hänsyn till vid val av ramverk har en mängd olika källor studerats. Information har hämtats från diverse teknikbloggar, produkthemsidor och vetenskapliga artiklar. Den kunskap som har förvärvats från litteraturstudien har sedan jäförts med erfarenheter från eget användande av Angular och de intervjusvar som kommit fram under den empiriska undersökningen som behandlas i nästa delrubrik.

\subsection{Empirisk undersökning} 

Med hjälp av intervjuer frågades gruppens medlemmar ut angående de erfarenheter av Angular de förvärvat sig under projektets gång. Under intervjun fick projektgruppens medlemmar svara på frågor om vad de tyckt varit bra med Angular, vad som varit dåligt, vilken funktionalitet de haft störst nytta av och vilken funktionalitet de saknat. De har även fått svara på om de sammanfattningsvis varit nöjda med valet av Angular som utvecklingsplattform. Utifrån intervjuföremålens svar har sedan en slutsats om Angulars nytta dragits och frågan om vad Angular tillför ett projekt av Aeons karaktäristik har kunnat besvaras.

\section{Resultat}

Under denna rubrik presenteras de resultat som litteraturstudien och den empiriska undersökningen uppnått.

\subsection{Litteraturstudie}

Daniel Graziotin och Pekka Abrahamsson menar i sin konferensartikel \textit{Making Sense Out of a Jungle of JavaScript Frameworks} \cite{making_sense} att det behövs ett organiserat tillvägagångssätt för JavaScript-ramverk till webbutveckling. I \textit{Factors and actors leading to the adoption of a JavaScript framework} \cite{js_framework} utförs en intervjuserie med beslutsfattare som behövt ta ställning till val av JavaScript-ramverk.

Intervjuserien, som omfattade 18 beslutsfattare, komm fram till att följande faktorer är de viktigaste att ta hänsyn till vid val av ramverk: performance expectancy (prestanda), effort expectancy (svårighet att använda och förstå), social influence (sociala aspekter), facilitating conditions (underlättande faktorer) och price value (värde för pengar).



\subsection{Empirisk undersökning}

Under intervjuerna med projektmedlemmarna frågades de främst ut om sina erfarenheter med Angular, men de fick även svara på vad de tyckte om det sätt vi valt ramverk på. 

\subsubsection{Utvärdering av Angular}

Alla utom två av de som blivit tillfrågade under intervjuerna saknade helt erfarenhet av webbapplikationsutveckling innan projektets start. Samtliga tyckte att det till en början varit svårt att lära sig hur Angular fungerar och bör användas. De upplevde att Angular innehöll mycket funktionalitet och att det var svårt att greppa hur varje del hängde samman med resten av ramverket. Några av projektmedlemmarna hade använt sig av den handledning som tillhandahölls på Angulars hemsida LÄNK, och den upplevdes ge en bra grund, men de tyckte samtidigt att de ofta stötte på problem som inte täcktes av handledningen, och att det då var svårt att veta hur man skulle gå tillväga.

Efter inlärningsperioden upplevde de tillfrågade flera styrkor med Angular. Alla som deltagit i intervjuerna uppskattade Angulars komponentstruktur. Som fördelar med den nämndes modularitet, att den gör det enkelt för flera utvecklare att arbeta parallellt på olika komponenter och att det finns möjlighet att återanvända komponenter i olika sammanhang. Den utökade HTML-funktionaliteten som erbjuds av Angular var också en styrka som nämndes.

Som nackdel nämndes utöver att det varit svårt att lära sig att den stora mängden funktionalitet gjorde det svårt att veta hur man skulle lösa ett givet problem på det bästa sättet, samt att filstrukturen, där komponenter lades inuti andra komponenter, snabbt blev väldigt rörig och svår att navigera.

Samtliga av de tillfrågade var överlag nöjda med valet av Angular som ramverk. De flesta av projektmedlemmarna tyckte att gruppen gjort rätt som på kundens inrådan valt Angular som ramverk och ansåg inte att den tid som en förstudie om valet av ramverk tagit hade lönat sig senare i projektet. Alla var dock inte överens om detta, och det fanns projektmedlemmar som menade att en förstudie hade kunnat visa på ett ramverk som varit enklare att sätta sig in i än Angular, då de flesta menade att Angular hade en brant inlärningskurva. Tid som gått åt att lära sig Angular kunde då istället använts till produktutveckling, menade de.   


\section{Diskussion}

Under denna rubrik kommer de resultat som uppnåtts under studiens gång att diskuteras och svar på frågeställningen att presenteras.

\subsection{Val av ramverk}

Av de faktorer som \textit{Factors and actors leading to the adoption of a JavaScript framework} nämner så är enbart några relevanta för ett projekt av Aeons dimensioner. Price value är inte applicerbart, då projektet inte är kommersiellt och inte har budget till att använda sig av någon betalversion av ett ramverk. Performance expectancy är inte heller det av jättestor vikt, då kunden inte avsett ta den applikation som skulle utvecklas i drift. Applikationen var heller inte stor eller krävande nog att tvinga gruppen optimera prestandan till någon högre grad.

De övriga faktorerna är däremot samtliga väl värda att ta hänsyn till när man behöver välja ramverk till ett projekt liknande Aeon. Av dessa är kanske effort expectancy den allra viktigaste. Har man ett utvecklingsteam med bristande erfarenheter inom webbutveckling så tar det lång tid att lära sig grunderna, och om man utöver detta måste sitta länge med att lära sig den specifika strukturen hos något ramverk så försvinner mycket tid som annars kunde ha lagts på utveckling. Just inlärningskurva var den nackdel de flesta av projektmedlemmarna i Aeon ansåg vara nackdelen med Angular.

Social influence är också viktigt. Att det finns en stor användarbas tillhanda när man behöver ställa frågor om exempelvis tekniska lösningar i ramverket är väldigt hjälpsamt. Det gäller särskilt en grupp med bristande erfarenheter som kan tänkas behöva mycket hjälp. Aeon-gruppen har vid upprepade tillfällen sökt hjälp från andra användare då Angulars egna dokumentation ofta upplevts bristfällig. Detsamma borde vara möjligt även för andra större webbutvecklingsramverk.

Facilitating conditions är en bred kategori och mycket av vad den innefattar är bra att tänka på. Att kunna utöka ramverket med externa bibliotek är väldigt smidigt och flera sådana utnyttjades av projektgruppen under utveckling. 




\subsection{Utvärdering av Angular}

Intervjuerna som sammanfattats i resultat-delen visade tydligt att gruppmedlemmarna tycke att Angular varit svårt att lära sig. Detta gällde både de två deltagare som uppgett sig ha tidigare erfarenheter av webbutveckling och de övriga som helt saknat sådan erfarenhet innan detta projekt. Att ramverket varit svårt för gruppen att lära in var onekligen en nackdel för projektets utförande. Mycket tid gick åt att sätta sig in i ramverket. Den tiden hade istället kunnat användas till att utveckla systemet. Utvecklingsfasen led ständigt av tidsbrist och med mer tid hade fler av kundens krav kunnat uppfyllas.

Eftersom de flesta av gruppdeltagarna saknade tidigare erfarenheter av webbutveckling misstänker jag dock att inlärningsperioden varit lång i vilket fall. För de få projektmedlemmar som arbetat med webbutveckling tidigare hade kanske ett mer flexibelt ramverk med som inte strikt förordar någon särskilt applikationsuppbyggnad varit enklare att sätta sig in i. För resten av gruppen tror jag inte skillnaden i inlärningstid hade varit drastiskt annorlunda med något annat ramverk. De hade ändå behövt sätta sig in i webbutvecklingens grunder, och att lära sig det på Angular-vis från början hade nog bara varit aningen svårare. Den mödan lönade sig också senare.

Alla som intervjuats höll med om att Angular tillfört mycket till projektet. Det som särskilt framhölls var den komponentbaserade arkitekturen. Den gjorde det självklart och intuitivt att dela upp applikationen i modulära komponenter. Att komponenterna kan skapas i vilken ordning som helst och kopplas samman i efterhand underlättade verkligen utvecklingsarbetet. Komponenternas modulariteten var till stor gagn för gruppen under utvecklingsfasen. En oerfaren grupp som vår hade lätt kunnat missa att göra applikationen så modulär om inte ett ramverk påbjudit det.

Den komponentbaserade arkitekturen gjorde det också enkelt att översätta pappersprototypen till kod i Angular. Det var inga problem att i pappersprototypen identifiera grafiska enheter som sökrutor, menyer och knappar och sedan bestämma komponenter åt dem i Angular. Angular hade alltså stor nytta av pappersprototypen. Den togs fram under designfasen för att visa kunden hur vi tänkt oss systemet, men kom av denna anledning till att vara väldigt användbar under utvecklingsfasen också.

Ett större problem för projektet än Angulars inlärningskurva var nog ett bristande inlärningsarbete. I början av utvecklingsfasen hölls en inledande föreläsning om Angular som väldigt överskådligt förklarade arkitekturen hos ramverket. I övrigt hölls inget gemensamt inlärningsarbete. Var och en av projektmedlemmarna fick istället ansvar för att lära sig om ramverket på egen hand. Det var ett arbetssätt som många var bekväma med, men det resulterade i att kunskaperna varierade stort när utvecklingsfasen började. 

När man ska använda ett så omfångsrikt ramverk som Angular behöver man också se till att lära sig det ordentligt. Att åtminstone tillsammans tagit sig igenom den handledning som Angulars hemsida tillhandahåller, en handledning som enbert ett fåtal i gruppen ens kollat på, hade underlättat utvecklingsfasen rejält. Då ingen hade några tidigare erfarenheter av Angular hade en gemensam inlärning fört med sig möjligheter till diskussion om de oklarheter som fanns. Då hade alla i gruppen haft en genmensam bild av hur man arbetar med Angular. Som gruppen gjorde nu stannade arbetet ofta upp då gruppmedlemmar inte visste hur något skulle implementeras i Angular och var tvungna att söka hjälp på nätet. Ibland hände det att flera gruppmedlemmar stött på samma problem och hittat olika lösningar på det, då Angular erbjuder flera sätt att göra det mesta. Detta gjorde koden mer förvirrande och hade kunnat undvikas med gemensam utbildning.     

     


\subsection{Metod}

Eftersom gruppen inte själva funnit något behov av att ta ställning till för-och-nackdelar med olika webbutvecklingsramverk så var det nödvändigt att utföra en litteraturstudie för att kunna svara på frågan om vad man bör tänka på vid just val av utvecklingsverktyg. Lyckligtvis fanns det många webbutvecklare som ställts inför detta val innan denna projektgrupp gjorde det, och därför fanns det mycket material att tillgå för en litteraturstudie, vilket är en ytterligare fördel med ett sådant slags undersökning.

För att ta reda på vad Angular tillför är det lämpligt att tillfråga utvecklare som faktiskt använt sig av ramverket, och det uppnåddes i och med den empiriska undersökningen och dess iintervjuer med projektmedlemmarna. Istället för intervjuer hade projektgruppen kunnat få svara på en enkät, men en enkät är avsevärt mycket mindre interaktiv än en intervju. Under intervjuerna som hölls fanns och utnyttjades möjligheten att ställa öpnna frågor och för en diskussion med deltagarna. Den effekten kan i någon mån efterliknas i en enkät genom att låta respondenter svara i löpande text istället för att bocka för ja- eller nej-rutor, men möjligheten att ställa oförutsedda men relevanta följdfrågor försvinner helt. 

Intervjuerna som hölls var begränsade till medlemmar av projektgruppen. Då det med all sannolikhet fanns andra webbutvecklare som tidigare använt Angular under utveckling av webbapplikationer i projekt av liknande skala som Aeon hade det varit möjligt att intervjua fler deltagare utöver bara projektgruppen. Det hade till och med varit möjligt att intervjua webbutvecklare som använt sig av andra ramverk än Angular under webbapplikationsutvecklingsprocessen, och därmed gjort den empiriska undersökningen till mer av en komparativ studie mellan olika ramverk än bara en utvärdering av vad Angular tillfört. Då denna studies andra frågeställning var just hur Angular påverkat detta projekt gjordes dock bedömningen att intervjuer med projektmedlemmarna vore tillräckligt.

\section{Slutsats}

Vid val av ramverk till ett webbutveccklingsprojekt av Aeons dimensioner är det i första hand viktigt att tänka på vilken teknisk kompetens gruppen besitter, och anpassa valet av ramverk tefter detta. Innehåller ramverktet mycket speciell funktionalitet kan det ta lång tid för den oerfarne att sätta sig in användandet av ramverket när man samtidigt måste lära sig webbutvecklingens grunder. Man bör också ta hänsyn till hur stor användarbas ramverket har. Är den stor blir det enklare för en användare att be om hjälp då ramverkets dokumentation inte räcker till.

Valet av Angular som ramverk tillförde projektet en färdig komponentstruktur på applikationens arkitektur. Ett ramverk som själv står för grundstrukturen är utmärkt för projekt med mindre erfarna utvecklare som har svårt att på egen hand få en överblick om hur en större webbapplikation bör struktureras upp. Angular tar däremot mycket tid att sätta sig in i. Den tiden kan sparas in om applikationen som utvecklas är stor och mycket av Angulars egna funktionalitet kommer till användning. För projekt av Aeons storlek är den tid som läggs ned på inlärning värd den extra funktionalitet som Angular erbjuder.
